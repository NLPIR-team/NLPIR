



å…³é”®å­—æå–ç»„ä»¶(KeyExtract) æ¥å£æ–‡æ¡£  
























http://ICTCLAS.nlpir.org/
@ICTCLASå¼ åå¹³åšå£«
2012-12
For the latest information about NLPIR, please visit Http://ICTCLAS.nlpir.org/
Document Information


ç›®å½•
å…³é”®å­—æå–ç»„ä»¶(KeyExtract) æ¥å£æ–‡æ¡£	1
ç›®å½•	3
0. å…³é”®å­—æå–ç»„ä»¶(åˆåKeyExtractï¼‰ç®€ä»‹	4
1ï¼Cï¼‹ï¼‹æ¥å£	5
1.1 KeyExtract_Init	5
1.2 KeyExtract_Exit	6
1.3 KeyExtract_GetKeyWords	7
1.4 KeyExtract_GetFileKeyWords	8
2  KeyExtractè¿è¡Œç¯å¢ƒ	10
3 å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰	11
Q1: Linuxè°ƒç”¨libKeyExtract.soçš„æ—¶å€™ï¼Œé“¾æ¥ä¸ä¸Šåº“	11
Q2: KeyExtractç»„ä»¶åˆå§‹åŒ–è€æ˜¯å¤±è´¥	11
4 ä½œè€…ç®€ä»‹	12


0. å…³é”®å­—æå–ç»„ä»¶(åˆåKeyExtractï¼‰ç®€ä»‹
ã€€ã€€å…³é”®è¯ï¼Œå°±æ˜¯æ‚¨è¾“å…¥æœç´¢æ¡†ä¸­çš„æ–‡å­—ï¼Œä¹Ÿå°±æ˜¯æ‚¨å‘½ä»¤æœç´¢å¼•æ“å¯»æ‰¾çš„ç›¸å…³ä¿¡æ¯ã€‚æ‚¨å¯ä»¥å‘½ä»¤æœç´¢å¼•æ“å¯»æ‰¾ä»»ä½•ç›¸å…³å†…å®¹ï¼Œæ‰€ä»¥å…³é”®è¯çš„å†…å®¹å¯ä»¥æ˜¯ï¼šäººåã€ç½‘ç«™ã€æ–°é—»ã€å°è¯´ã€è½¯ä»¶ã€æ¸¸æˆã€æ˜Ÿåº§ã€å·¥ä½œã€è´­ç‰©ã€è®ºæ–‡ã€è§†é¢‘ç­‰ã€‚
ã€€ã€€è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°/J nHB-O(b1[
ã€€ã€€Y
ã€€ã€€X
ã€€ã€€
ã€€ã€€
ã€€ã€€   è®¿é—®http://ictclas.nlpir.org/(è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°)ï¼Œæ‚¨å¯ä»¥è·å–KeyExtractç»„ä»¶çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶æ¬¢è¿æ‚¨å…³æ³¨å¼ åå¹³åšå£«çš„æ–°æµªå¾®åš @ICTCLASå¼ åå¹³åšå£« äº¤æµã€‚1P_bR$vk0 è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°1H9^+}NE*W;^
è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°5H8]U ]4`s"Q^


6b;t.P s@)\J0ç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°-l3?3v"Z#X|{t#A!d Z å›¾1ï¼šå…³é”®å­—æå–åŠŸèƒ½å±•ç¤º
è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°-r
UM"c3u ]
1ï¼Cï¼‹ï¼‹æ¥å£
1.1 KeyExtract_Init
Init the analyzer and prepare necessary data for KeyExtract according the configure file.
bool KeyExtract_Init(const char * sDataPath=0,int encode=GBK_CODE,const char*sLicenceCode=0);
RoutineRequired HeaderKeyExtract_Init<KeyExtract.h>Return Value
Return true if init succeed. Otherwise return false.
Parameters
sDataPath: Initial Directory Path, where Data directory stored.  the default value is 0, it indicates the initial directory is current working directory path
encode:  Encoding of input string, default is GBK_CODE (GBK encoding), and it can be set with UTF8_CODE (UTF8 encoding) and BIG5_CODE (BIG5 encoding).
const char* sLicenceCode: licence coding of input string, 
Remarks
The KeyExtract_Init function must be invoked before any operation with KeyExtract. The whole system need call the function only once before starting KeyExtract. When stopping the system and make no more operation, KeyExtract_Init should be invoked to destroy all working buffer. Any operation will fail if init do not succeed.
KeyExtract_Init fails mainly because of two reasons: 1) Required data is incompatible or missing 2) invalid parameters. Moreover, you could learn more from the log file 2014****.log in the current directory. 
Example
int main(int argc, const char * argv[])
{

	if(!KeyExtract_Init("D:\\NLPIR",GBK_CODE,""))//æ•°æ®åœ¨ä¸Šä¸€å±‚ç›®å½•ä¸‹ï¼Œé»˜è®¤ä¸ºGBKç¼–ç çš„åˆ†è¯
	{
		printf("ICTCLAS INIT FAILED!\n");
		return 1;
	}
	const char *pKeys=KeyExtract_GetKeyWords("å»å¹´å¼€å§‹ï¼Œæ‰“å¼€ç™¾åº¦ææ¯…å§ï¼Œæ»¡å±çš„å¸–å­å¤§å¤šå«æœ‰"å±Œä¸"äºŒå­—ï¼Œä¸€èˆ¬ç½‘å‹ä¸ä»…ä¸æ‡‚è¿™è¯ä»€ä¹ˆæ„æ€ï¼Œæ›´éš¾ç†è§£è¿™ä¸ªè¯ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆç«ã€‚ç„¶è€Œä»ä¸‹åŠå¹´å¼€å§‹ï¼Œ"å±Œä¸"å·²ç»è¦†ç›–ç½‘ç»œå„ä¸ªè§’è½ï¼Œäººäººäº‰è¯´å±Œä¸ï¼Œäººäººäº‰å½“å±Œä¸ã€‚",50,true);
	//ä»æ–‡æœ¬ä¸­åˆ†æå…³é”®è¯
	printf("Keywords are:\n%s\n",pKeys);
	pKeys=KeyExtract_GetFileKeyWords("D:\\NLPIR\\test\\åå…«å¤§æŠ¥å‘Š.txt",50,true);
	//ä»æ–‡æœ¬æ–‡ä»¶ä¸­åˆ†æå…³é”®è¯
	printf("Keywords are:\n%s\n",pKeys);
	KeyExtract_Exit();
	return 0;
}
Output
1.2 KeyExtract_Exit
Exit the program and free all resources and destroy all working buffer used in KeyExtract.
bool KeyExtract_Exit();
RoutineRequired HeaderKeyExtract_Exit<KeyExtract.h>Return Value
Return true if succeed,or return false.
Parameters
none
Remarks
The KeyExtract_Exit function must be invoked while stopping the system and make no more operation. And call KeyExtract_Exit  function to restart KeyExtract. 
Example
int main(int argc, const char * argv[])
{

	if(!KeyExtract_Init("D:\\NLPIR",GBK_CODE,""))//æ•°æ®åœ¨ä¸Šä¸€å±‚ç›®å½•ä¸‹ï¼Œé»˜è®¤ä¸ºGBKç¼–ç çš„åˆ†è¯
	{
		printf("ICTCLAS INIT FAILED!\n");
		return 1;
	}
	const char *pKeys=KeyExtract_GetKeyWords("å»å¹´å¼€å§‹ï¼Œæ‰“å¼€ç™¾åº¦ææ¯…å§ï¼Œæ»¡å±çš„å¸–å­å¤§å¤šå«æœ‰"å±Œä¸"äºŒå­—ï¼Œä¸€èˆ¬ç½‘å‹ä¸ä»…ä¸æ‡‚è¿™è¯ä»€ä¹ˆæ„æ€ï¼Œæ›´éš¾ç†è§£è¿™ä¸ªè¯ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆç«ã€‚ç„¶è€Œä»ä¸‹åŠå¹´å¼€å§‹ï¼Œ"å±Œä¸"å·²ç»è¦†ç›–ç½‘ç»œå„ä¸ªè§’è½ï¼Œäººäººäº‰è¯´å±Œä¸ï¼Œäººäººäº‰å½“å±Œä¸ã€‚",50,true);
	//ä»æ–‡æœ¬ä¸­åˆ†æå…³é”®è¯
	printf("Keywords are:\n%s\n",pKeys);
	pKeys=KeyExtract_GetFileKeyWords("D:\\NLPIR\\test\\åå…«å¤§æŠ¥å‘Š.txt",50,true);
	//ä»æ–‡æœ¬æ–‡ä»¶ä¸­åˆ†æå…³é”®è¯
	printf("Keywords are:\n%s\n",pKeys);
	KeyExtract_Exit();
	return 0;
}
Output
1.3 KeyExtract_GetKeyWords

const char * KeyExtract_GetKeyWords(const char *sLine,int nMaxKeyLimit=50,bool bWeightOut=false);

RoutineRequired HeaderKeyExtract_GetKeyWords<KeyExtract.h>Return Value
Return  keywords list like. Otherwise return NULL.
Parameters
sLine:  [IN] the input paragraph 
nMaxKeyLimit:   [IN] maximum of key words, up to 50
bWeightOut:  [IN] whether  the keyword weight output
Remarks
Extract keyword from sLine.
Example
int main(int argc, const char * argv[])
{

	if(!KeyExtract_Init("D:\\NLPIR",GBK_CODE,""))//æ•°æ®åœ¨ä¸Šä¸€å±‚ç›®å½•ä¸‹ï¼Œé»˜è®¤ä¸ºGBKç¼–ç çš„åˆ†è¯
	{
		printf("ICTCLAS INIT FAILED!\n");
		return 1;
	}
	const char *pKeys=KeyExtract_GetKeyWords("å»å¹´å¼€å§‹ï¼Œæ‰“å¼€ç™¾åº¦ææ¯…å§ï¼Œæ»¡å±çš„å¸–å­å¤§å¤šå«æœ‰"å±Œä¸"äºŒå­—ï¼Œä¸€èˆ¬ç½‘å‹ä¸ä»…ä¸æ‡‚è¿™è¯ä»€ä¹ˆæ„æ€ï¼Œæ›´éš¾ç†è§£è¿™ä¸ªè¯ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆç«ã€‚ç„¶è€Œä»ä¸‹åŠå¹´å¼€å§‹ï¼Œ"å±Œä¸"å·²ç»è¦†ç›–ç½‘ç»œå„ä¸ªè§’è½ï¼Œäººäººäº‰è¯´å±Œä¸ï¼Œäººäººäº‰å½“å±Œä¸ã€‚",50,true);
	//ä»æ–‡æœ¬ä¸­åˆ†æå…³é”®è¯
	printf("Keywords are:\n%s\n",pKeys);
	pKeys=KeyExtract_GetFileKeyWords("D:\\NLPIR\\test\\åå…«å¤§æŠ¥å‘Š.txt",50,true);
	//ä»æ–‡æœ¬æ–‡ä»¶ä¸­åˆ†æå…³é”®è¯
	printf("Keywords are:\n%s\n",pKeys);
	KeyExtract_Exit();
	return 0;
}
Output


1.4 KeyExtract_GetFileKeyWords


const char * KeyExtract_GetFileKeyWords(const char *sFilename,int nMaxKeyLimit=50,bool bWeightOut=false);
RoutineRequired HeaderKeyExtract_GetFileKeyWords<KeyExtract.h>Return Value
Return keywords list like. Otherwise return NULL.
Parameters
sFilename:  [IN] the input text file name 
nMaxKeyLimit:   [IN] maximum of key words, up to 50
bWeightOut:  [IN] whether  the keyword weight output

Remarks
Extract keyword from a text file.
Example
int main(int argc, const char * argv[])
{

	if(!KeyExtract_Init("D:\\NLPIR",GBK_CODE,""))//æ•°æ®åœ¨ä¸Šä¸€å±‚ç›®å½•ä¸‹ï¼Œé»˜è®¤ä¸ºGBKç¼–ç çš„åˆ†è¯
	{
		printf("ICTCLAS INIT FAILED!\n");
		return 1;
	}
	const char *pKeys=KeyExtract_GetKeyWords("å»å¹´å¼€å§‹ï¼Œæ‰“å¼€ç™¾åº¦ææ¯…å§ï¼Œæ»¡å±çš„å¸–å­å¤§å¤šå«æœ‰"å±Œä¸"äºŒå­—ï¼Œä¸€èˆ¬ç½‘å‹ä¸ä»…ä¸æ‡‚è¿™è¯ä»€ä¹ˆæ„æ€ï¼Œæ›´éš¾ç†è§£è¿™ä¸ªè¯ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆç«ã€‚ç„¶è€Œä»ä¸‹åŠå¹´å¼€å§‹ï¼Œ"å±Œä¸"å·²ç»è¦†ç›–ç½‘ç»œå„ä¸ªè§’è½ï¼Œäººäººäº‰è¯´å±Œä¸ï¼Œäººäººäº‰å½“å±Œä¸ã€‚",50,true);
	//ä»æ–‡æœ¬ä¸­åˆ†æå…³é”®è¯
	printf("Keywords are:\n%s\n",pKeys);
	pKeys=KeyExtract_GetFileKeyWords("D:\\NLPIR\\test\\åå…«å¤§æŠ¥å‘Š.txt",50,true);
	//ä»æ–‡æœ¬æ–‡ä»¶ä¸­åˆ†æå…³é”®è¯
	printf("Keywords are:\n%s\n",pKeys);
	KeyExtract_Exit();
	return 0;
}
Output


2  KeyExtractè¿è¡Œç¯å¢ƒ
   1. å¯ä»¥æ”¯æŒWindowsã€Linuxã€FreeBSDç­‰å¤šç§ç¯å¢ƒï¼Œæ”¯æŒæ™®é€šPCæœºå™¨å³å¯è¿è¡Œã€‚
   2. æ”¯æŒGBK/UTF-8/BIG5

3 å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰
Q1: Linuxè°ƒç”¨libKeyExtract.soçš„æ—¶å€™ï¼Œé“¾æ¥ä¸ä¸Šåº“
ä¾‹å¦‚æ‰§è¡Œç¤ºä¾‹ç¨‹åºç»“æœå¦‚ä¸‹ï¼š
[root@localhost linux_c_sample]# ./test 
./test: error while loading shared libraries: libKeyExtract.so: cannot open shared object file: No such file or directory
Answer: 
åº”å½“è®¾ç½®ç³»ç»Ÿçš„LD_LIBRARY_PATHï¼Œå³ï¼šexport LD_LIBRARY_PATH=./
å¹¶ä¸”è¯·ä¿è¯åœ¨æœ¬ç›®å½•ä¹Ÿæœ‰libNLPIR.so
Q2: KeyExtractç»„ä»¶åˆå§‹åŒ–è€æ˜¯å¤±è´¥
Answer: 
è¯·æ‚¨ä¿è¯keyExtract.useræ–‡ä»¶æœªè¿‡æœŸï¼Œå¦å¤–å¯å‚è€ƒ"20***.err"æ–‡ä»¶æŸ¥çœ‹é”™è¯¯ä¿¡æ¯














4 ä½œè€…ç®€ä»‹






å¼ åå¹³ åšå£« å‰¯æ•™æˆ ç¡•å¯¼
åŒ—äº¬ç†å·¥å¤§å­¦è®¡ç®—æœºå­¦é™¢ é™¢é•¿åŠ©ç†
åŒ—äº¬ç†å·¥å¤§å­¦ç½‘ç»œæœç´¢æŒ–æ˜ä¸å®‰å…¨å®éªŒå®¤ ä¸»ä»»
åœ°å€ï¼šåŒ—äº¬æµ·æ·€åŒºä¸­å…³æ‘å—å¤§è¡—5å· 100081
ç”µè¯ï¼š+86-10-68918642
Email:kevinzhang@bit.edu.cn
MSN:  pipy_zhang@msn.com;
ç½‘ç«™: http://ictclas.nlpir.org (è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°)
åšå®¢:http://hi.baidu.com/drkevinzhang/
å¾®åš: @ICTCLASå¼ åå¹³åšå£«


Dr. Kevin Zhang  (å¼ åå¹³ï¼ŒZhang Hua-Ping)
Associate Professor, Graduate Supervisor
Dean Assistant, School of Computer
Director, Web Search,Mining and Security Lab.
Beijing Institute of Technology 
Add: No.5, South St.,Zhongguancun,Haidian District,Beijing,P.R.C  PC:100081
Tel: +86-10-68918642
Email:kevinzhang@bit.edu.cn
MSN:  pipy_zhang@msn.com;
Website: http://ictclas.nlpir.org (Natural Language Processing and Information Retrieval Sharing Platform)
Blog:http://hi.baidu.com/drkevinzhang/
Twitter: @ICTCLASå¼ åå¹³åšå£«


å…³é”®å­—æå–ç»„ä»¶(KeyExtract) æ¥å£æ–‡æ¡£            http://ICTCLAS.nlpir.org

NLPIR Copyright (c) 2013 Kevin Zhang. All rights reserved.    	               1/2

