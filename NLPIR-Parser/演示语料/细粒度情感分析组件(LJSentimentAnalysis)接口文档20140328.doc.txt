



ç»†ç²’åº¦æƒ…æ„Ÿåˆ†æç»„ä»¶(LJSentimentAnalysis) æ¥å£æ–‡æ¡£  
























http://ICTCLAS.nlpir.org/
@ICTCLASå¼ åå¹³åšå£«
2012-12
For the latest information about NLPIR, please visit Http://ICTCLAS.nlpir.org/


ç›®å½•
ç»†ç²’åº¦æƒ…æ„Ÿåˆ†æç»„ä»¶(LJSentimentAnalysis) æ¥å£æ–‡æ¡£	1
ç›®å½•	3
0.	ç»†ç²’åº¦æƒ…æ„Ÿåˆ†æç»„ä»¶(åˆåLJSentimentAnalysisï¼‰ç®€ä»‹	4
1ï¼Cï¼‹ï¼‹æ¥å£	5
1.1 LJST_Inits	5
1.2 LJST_Exits	6
1.3 LJST_GetFileSent	7
2  LJSentimentAnalysisè¿è¡Œç¯å¢ƒ	8
3 å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰	10
Q1: Linuxè°ƒç”¨libLJSentimentAnalysis.soçš„æ—¶å€™ï¼Œé“¾æ¥ä¸ä¸Šåº“	10
Q2: LJSentimentAnalysisç»„ä»¶åˆå§‹åŒ–è€æ˜¯å¤±è´¥	10
4 ä½œè€…ç®€ä»‹	11


0. ç»†ç²’åº¦æƒ…æ„Ÿåˆ†æç»„ä»¶(åˆåLJSentimentAnalysisï¼‰ç®€ä»‹
ã€€ã€€ä¸­æ–‡æƒ…æ„Ÿè¯æ±‡æœ¬ä½“åº“æ˜¯å¤§è¿ç†å·¥å¤§å­¦ä¿¡æ¯æ£€ç´¢ç ”ç©¶å®¤åœ¨æ—é¸¿é£æ•™æˆçš„æŒ‡å¯¼ä¸‹ç»è¿‡å…¨ä½“æ•™ç ”å®¤æˆå‘˜çš„åŠªåŠ›æ•´ç†å’Œæ ‡æ³¨çš„ä¸€ä¸ªä¸­æ–‡æœ¬ä½“èµ„æºã€‚è¯¥èµ„æºä»ä¸åŒè§’åº¦æè¿°ä¸€ä¸ªä¸­æ–‡è¯æ±‡æˆ–è€…çŸ­è¯­ï¼ŒåŒ…æ‹¬è¯è¯­è¯æ€§ç§ç±»ã€æƒ…æ„Ÿç±»åˆ«ã€æƒ…æ„Ÿå¼ºåº¦åŠææ€§ç­‰ä¿¡æ¯ã€‚
ã€€ã€€ä¸­æ–‡æƒ…æ„Ÿè¯æ±‡æœ¬ä½“çš„æƒ…æ„Ÿåˆ†ç±»ä½“ç³»æ˜¯åœ¨å›½å¤–æ¯”è¾ƒæœ‰å½±å“çš„Ekmançš„6å¤§ç±»æƒ…æ„Ÿåˆ†ç±»ä½“ç³»çš„åŸºç¡€ä¸Šæ„å»ºçš„ã€‚åœ¨Ekmançš„åŸºç¡€ä¸Šï¼Œè¯æ±‡æœ¬ä½“åŠ å…¥æƒ…æ„Ÿç±»åˆ«"å¥½"å¯¹è¤’ä¹‰æƒ…æ„Ÿè¿›è¡Œäº†æ›´ç»†è‡´çš„åˆ’åˆ†ã€‚æœ€ç»ˆè¯æ±‡æœ¬ä½“ä¸­çš„æƒ…æ„Ÿå…±åˆ†ä¸º7å¤§ç±»21å°ç±»ã€‚
ã€€ã€€æ„é€ è¯¥èµ„æºçš„å®—æ—¨æ˜¯åœ¨æƒ…æ„Ÿè®¡ç®—é¢†åŸŸï¼Œä¸ºä¸­æ–‡æ–‡æœ¬æƒ…æ„Ÿåˆ†æå’Œå€¾å‘æ€§åˆ†ææä¾›ä¸€ä¸ªä¾¿æ·å¯é çš„è¾…åŠ©æ‰‹æ®µã€‚ä¸­æ–‡æƒ…æ„Ÿè¯æ±‡æœ¬ä½“å¯ä»¥ç”¨äºè§£å†³å¤šç±»åˆ«æƒ…æ„Ÿåˆ†ç±»çš„é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ç”¨äºè§£å†³ä¸€èˆ¬çš„å€¾å‘æ€§åˆ†æçš„é—®é¢˜ã€‚
ã€€ã€€è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°/J nHB-O(b1[
ã€€ã€€Y
ã€€ã€€X
ã€€ã€€
ã€€ã€€
ã€€ã€€   è®¿é—®http://ictclas.nlpir.org/(è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°)ï¼Œæ‚¨å¯ä»¥è·å–KeyExtractç»„ä»¶çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶æ¬¢è¿æ‚¨å…³æ³¨å¼ åå¹³åšå£«çš„æ–°æµªå¾®åš @ICTCLASå¼ åå¹³åšå£« äº¤æµã€‚1P_bR$vk0 è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°1H9^+}NE*W;^
è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°5H8]U ]4`s"Q^










è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°-r
UM"c3u ]
1ï¼Cï¼‹ï¼‹æ¥å£
1.1 LJST_Inits
Init the analyzer and prepare necessary data for LJST according the configure file.
int LJST_Inits(const char *path, int encode, const char*sLicenceCode=0);

RoutineRequired HeaderLJST_Inits< LJSentimentAnalysis.h>Return Value
Return true if init succeed. Otherwise return false.
Parameters
sDataPath: Initial Directory Path, where Data directory stored.  the default value is 0, it indicates the initial directory is current working directory path
int encoding: é»˜è®¤ä¸º GBK_CODE (GBK encoding), ä¹Ÿèƒ½æ˜¯ UTF8_CODE (UTF8 encoding) å’Œ BIG5_CODE (BIG5 encoding).
char* sLicenceCode: license code, special use for some commercial users. Other users ignore the argument
Remarks
The LJST_Inits function must be invoked before any operation with LJSentimentAnalysis. You can use the [userdict.txt] youself to import user dict or user [userdict.txt] that we offer ,The whole system need call the function only once before starting LJSentimentAnalysis. When stopping the system and make no more operation, LJST_Inits should be invoked to destroy all working buffer. Any operation will fail if init do not succeed.
LJST_Inits fails mainly because of two reasons: 1) Required data is incompatible or missing 2) invalid parameters. Moreover, you could learn more from the log file 2014****.log in the current directory. 
Example
int main(int argc, char* argv[])
{

	//åˆå§‹åŒ–
	int values = LJST_Inits("",GBK_CODE);
	if(!values)
	{
		printf("åˆå§‹åŒ–å¤±è´¥ï¼\n");
		return -1;
	}

	char szRes[40] = {0};
	bool bResult= LJST_GetFileSent("./Input/test.txt", szRes);
	if(!bResult)
	{
		printf("get feel info failed!\n");
		return -1;
	}
	printf("æœ¬ç¯‡æ–‡ç« çš„æƒ…æ„Ÿç±»å‹æ˜¯: %s\n", szRes);

	LJST_Exits();
	system("pause");
	return 0;
}
 Output
1.2 LJST_Exits
Exit the program and free all resources and destroy all working buffer used in LJSentimentAnalysis.
void LJST_Exits();
RoutineRequired HeaderLJST_Exits< LJSentimentAnalysis.h>Return Value
Return true if succeed,or return false.
Parameters
none
Remarks
The LJST_Exits function must be invoked while stopping the system and make no more operation. And call LJST_Exits  function to restart LJSentimentAnalysis. 
Example
int main(int argc, char* argv[])
{

	//åˆå§‹åŒ–
	int values = LJST_Inits("",GBK_CODE);
	if(!values)
	{
		printf("åˆå§‹åŒ–å¤±è´¥ï¼\n");
		return -1;
	}

	char szRes[40] = {0};
	bool bResult= LJST_GetFileSent("./Input/test.txt", szRes);
	if(!bResult)
	{
		printf("get feel info failed!\n");
		return -1;
	}
	printf("æœ¬ç¯‡æ–‡ç« çš„æƒ…æ„Ÿç±»å‹æ˜¯: %s\n", szRes);

	LJST_Exits();
	system("pause");
	return 0;
}
Output
1.3 LJST_GetFileSent

bool LJST_GetFileSent(const char* lpszFilename, char* szRes);

RoutineRequired HeaderLJST_GetFileSent< LJSentimentAnalysis.h>Return Value
Return true if succeed,or return false.
Parameters
lpszFilename:  [IN] file name with directory or not;
ã€€ã€€æƒ…æ„Ÿè¯å®å®šä¹‰
ã€€ã€€#define EMOTION_HAPPY 0                                    //ä¹
ã€€ã€€#define EMOTION_GOOD  EMOTION_HAPPY+1                 //å¥½
ã€€ã€€#define EMOTION_ANGER EMOTION_HAPPY+2                 //æ€’
ã€€ã€€#define EMOTION_SORROW EMOTION_HAPPY+3               //å“€
ã€€ã€€#define EMOTION_FEAR EMOTION_HAPPY+4                   //æƒ§
ã€€ã€€#define EMOTION_EVIL EMOTION_HAPPY+5                    //æ¶
ã€€ã€€#define EMOTION_SURPRISE EMOTION_HAPPY+6               //æƒŠ
szRes:   [OUT] file sentiment value with weight.
for example: output: EMOTION_SORROW/22
Remarks
Get sentiment value from file.
Example
int main(int argc, char* argv[])
{

	//åˆå§‹åŒ–
	int values = LJST_Inits("",GBK_CODE);
	if(!values)
	{
		printf("åˆå§‹åŒ–å¤±è´¥ï¼\n");
		return -1;
	}

	char szRes[40] = {0};
	bool bResult= LJST_GetFileSent("./Input/test.txt", szRes);
	if(!bResult)
	{
		printf("get feel info failed!\n");
		return -1;
	}
	printf("æœ¬ç¯‡æ–‡ç« çš„æƒ…æ„Ÿç±»å‹æ˜¯: %s\n", szRes);

	LJST_Exits();
	system("pause");
	return 0;
}
Output




2  LJSentimentAnalysisè¿è¡Œç¯å¢ƒ
   1. å¯ä»¥æ”¯æŒWindowsã€Linuxã€FreeBSDç­‰å¤šç§ç¯å¢ƒï¼Œæ”¯æŒæ™®é€šPCæœºå™¨å³å¯è¿è¡Œã€‚
   2. æ”¯æŒGBK/UTF-8/BIG5

3 å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰
Q1: Linuxè°ƒç”¨libLJSentimentAnalysis.soçš„æ—¶å€™ï¼Œé“¾æ¥ä¸ä¸Šåº“
ä¾‹å¦‚æ‰§è¡Œç¤ºä¾‹ç¨‹åºç»“æœå¦‚ä¸‹ï¼š
[root@localhost linux_c_sample]# ./test 
./test: error while loading shared libraries: libLJSentimentAnalysis t.so: cannot open shared object file: No such file or directory
Answer: 
åº”å½“è®¾ç½®ç³»ç»Ÿçš„LD_LIBRARY_PATHï¼Œå³ï¼šexport LD_LIBRARY_PATH=./
å¹¶ä¸”è¯·ä¿è¯åœ¨æœ¬ç›®å½•ä¹Ÿæœ‰libNLPIR.so
Q2: LJSentimentAnalysisç»„ä»¶åˆå§‹åŒ–è€æ˜¯å¤±è´¥
Answer: 
è¯·æ‚¨ä¿è¯NLPIR.useræ–‡ä»¶æœªè¿‡æœŸï¼Œå¦å¤–å¯å‚è€ƒ"20***.err"æ–‡ä»¶æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
















4 ä½œè€…ç®€ä»‹






å¼ åå¹³ åšå£« å‰¯æ•™æˆ ç¡•å¯¼
åŒ—äº¬ç†å·¥å¤§å­¦è®¡ç®—æœºå­¦é™¢ é™¢é•¿åŠ©ç†
åŒ—äº¬ç†å·¥å¤§å­¦ç½‘ç»œæœç´¢æŒ–æ˜ä¸å®‰å…¨å®éªŒå®¤ ä¸»ä»»
åœ°å€ï¼šåŒ—äº¬æµ·æ·€åŒºä¸­å…³æ‘å—å¤§è¡—5å· 100081
ç”µè¯ï¼š+86-10-68918642
Email:kevinzhang@bit.edu.cn
MSN:  pipy_zhang@msn.com;
ç½‘ç«™: http://ictclas.nlpir.org (è‡ªç„¶è¯­è¨€å¤„ç†ä¸ä¿¡æ¯æ£€ç´¢å…±äº«å¹³å°)
åšå®¢:http://hi.baidu.com/drkevinzhang/
å¾®åš: @ICTCLASå¼ åå¹³åšå£«


Dr. Kevin Zhang  (å¼ åå¹³ï¼ŒZhang Hua-Ping)
Associate Professor, Graduate Supervisor
Dean Assistant, School of Computer
Director, Web Search,Mining and Security Lab.
Beijing Institute of Technology 
Add: No.5, South St.,Zhongguancun,Haidian District,Beijing,P.R.C  PC:100081
Tel: +86-10-68918642
Email:kevinzhang@bit.edu.cn
MSN:  pipy_zhang@msn.com;
Website: http://ictclas.nlpir.org (Natural Language Processing and Information Retrieval Sharing Platform)
Blog:http://hi.baidu.com/drkevinzhang/
Twitter: @ICTCLASå¼ åå¹³åšå£«


ç»†ç²’åº¦æƒ…æ„Ÿåˆ†æç»„ä»¶ æ¥å£æ–‡æ¡£            http://ICTCLAS.nlpir.org

NLPIR Copyright (c) 2013 Kevin Zhang. All rights reserved.    	               1/2

